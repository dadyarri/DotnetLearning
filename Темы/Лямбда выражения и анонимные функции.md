---
stage: 1
status: done
---
Можно использовать лямбда выражения для создания анонимных функций. Любая лямбда может быть приведена к типу [[delegate]]. Типы её параметров и возвращаемого значения определяют тип делегата, к которому лямбда может быть приведена.

# Тип лямбда выражения

Сами по себе лямбда выражения не имеют типа, так как в системе типов нет понятия "лямбда выражение". Компилятор автоматически выбирает подходящий из `Func<...>` или `Action<...>`, если подходящий делегат выбрать не удалось (например, когда лямбда содержит [ref](Параметры%20методов%20и%20модификаторы#ссылочные%20параметры) аргумент - делегат синтезируется.

Метод группа (название метода без списка параметров) с одной перегрузкой имеет естественный тип.

# Замыкания в лямбда выражениях

Лямбды могут обращаться к переменным во *внешнем пространстве*. Это переменные, которые объявлены в методе или в типе, которые содержат лямбда-выражения. Захваченные переменные будут доступны, даже если они вышли бы из пространства и были бы собраны сборщиком мусора. Внешняя переменная должна быть объявлена перед захватом лямбдой.

К области видимости переменных в лямбда-выражении применяются следющие правила:

- Захваченная переменная не будет собрана, пока делегат, который на неё ссылается, нельзя будет собрать
- Переменные, объявленные внутри лямбды не доступны снаружи
- Лямбда выражение не может захватить in, ref, out параметры из включающего метода
- Выражение `return` в лямбда выражении не заставляет завершится включающий метод
- Лямбда выражение не может содержать выражения `break`, `continue` или `goto`, если цель находится снаружи. Так же нельзя иметь эти выражения снаружи лямбды, если цель находится внутри.

Можно применить модификатор `static` к лямбде, чтобы избежать ненамеренного захвата переменных снаружи. Такая лямбда не может использовать переменные из внешней области видимости, но может использовать статические члены и константы.